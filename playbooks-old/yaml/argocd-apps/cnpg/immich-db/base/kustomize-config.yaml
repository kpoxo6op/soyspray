# Kustomize name references for CNPG CRDs.
# Ensures: (a) Backup/ScheduledBackup .spec.cluster.name tracks the suffix,
#          (b) Cluster .spec.bootstrap.initdb.secret.name tracks the suffix.
nameReference:
- kind: Cluster
  group: postgresql.cnpg.io
  fieldSpecs:
    - path: spec/cluster/name
      kind: ScheduledBackup
      group: postgresql.cnpg.io
    - path: spec/cluster/name
      kind: Backup
      group: postgresql.cnpg.io
- kind: Secret
  fieldSpecs:
    - path: spec/bootstrap/initdb/secret/name
      kind: Cluster
      group: postgresql.cnpg.io

